<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homepage</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../static/styles.css">
     <style>
        /*Header and Footer CSS*/
.bg-custom-dark {
    background-color: rgb(43, 49, 61);
}

.navbar-brand span {
    font-size: 18px;
    font-weight: bold;
    color: white;
}

.btn{
    border-radius: 40px;
}

footer h6 {
    color: white;
    font-size: 16px;
}

footer ul li {
    margin-bottom: 10px;
}

footer .form-control {
    border: none;
}

footer .btn-dark {
    background-color: #2D3440;
    color: white;
}
/* Google Maps Placeholder */
.google-maps-placeholder {
    width: 100%;
    height: 300px;
    background-color: #ffffff; /* White background for Google Maps placeholder */
    border: 2px solid #ccc;
    border-radius: 8px;
}

/* Subscribe Section CSS */
.subscribe-section {
    background-color: #f8f9fa; /* Light background */
    padding: 40px 20px;
    text-align: center;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    max-width: 700px; /* Increased width of the container */
    margin: auto;
}

.subscribe-section h2 {
    font-size: 28px;
    color: #333;
    margin-bottom: 10px;
}

.subscribe-section p {
    font-size: 16px;
    color: #666;
    margin-bottom: 20px;
}

.subscribe-form {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
}

.subscribe-form input[type="email"] {
    padding: 12px 15px;
    font-size: 16px;
    border: 1px solid #ccc;
    border-radius: 4px;
    width: 80%; /* Increased width of the email input field */
    max-width: 500px; /* Increased max width for larger screens */
    transition: border-color 0.3s ease;
}

.subscribe-form input[type="email"]:focus {
    border-color: #007bff; /* Highlight color on focus */
    outline: none;
}

.subscribe-form button {
    padding: 12px 20px;
    font-size: 16px;
    color: #fff;
    background-color: #007bff; /* Primary button color */
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s;
}

.subscribe-form button:hover {
    background-color: #0056b3; /* Darker shade on hover */
    transform: scale(1.05); /* Slightly enlarges button on hover */
}

    
    </style>
</head>
<body class="d-flex flex-column min-vh-100" style="background-color: #fffaf2;">


    <header class="bg-custom-dark text-white py-3">
        <div class="container d-flex justify-content-between align-items-center">
            <div class="d-flex align-items-center">
                <img src="../static/Images/VoluntarioIcon.png" alt="Handshake Logo" width="90" height="90" class="me-2">
            </div>
            <nav class="d-flex gap-4">
                <a href="/" class="text-white text-decoration-none">HOME</a>
                <a href="/AboutUs" class="text-white text-decoration-none">ABOUT</a>
                <a href="/EventList" class="text-white text-decoration-none">PROGRAMS</a>
                <a href="/ContactUs" class="text-white text-decoration-none">CONTACTS</a>
            </nav>
        <div class="auth-buttons">
            <a href="/LogIn" class="text-decoration-none"><button class="btn btn-light me-2">Sign In</button></a>
            <a href="/SignUp" class="text-decoration-none"><button class="btn btn-outline-light">Sign Up</button></a>
        </div>
        </div>
    </header>


    <main class="flex-grow-1">

        <div class="container py-5">
            <!-- Google Maps Embed Section -->
            <div class="mb-5 text-center">
                <h2 class="mb-4">Find Us Here!</h2>
                <div class="google-maps-placeholder mb-4 mx-auto">
                    <iframe 
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3861.571817594423!2d121.01502120000004!3d14.566461400000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3397c9080e6f2abd%3A0x1d5b9be15aad02!2sMap%C3%BAa%20University%20Makati!5e0!3m2!1sen!2sph!4v1731386478649!5m2!1sen!2sph" 
                        width="100%" 
                        height="100%" 
                        style="border:0; border-radius: 8px;" 
                        allowfullscreen="" 
                        loading="lazy" 
                        referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>
            </div>
            
<!--Subscribe to our newsletter-->

<!-- Subscribe Section -->
<section class="subscribe-section">
    <div class="container">
        <h2>Subscribe to Our Newsletter</h2>
        <p>Get the latest updates right in your inbox. Join our mailing list now!</p>
        <form class="subscribe-form">
            <input type="email" placeholder="Enter your email" required>
            <button type="submit">Subscribe</button>
        </form>
    </div>
</section>


         <!-- Chatbot Toggle Button -->
<button id="toggle-chatbot" class="toggle-chatbot-btn">
    <i class="bi bi-chat-dots-fill"></i> Chat
</button>

<!-- Chatbot Interface -->
<div class="container" id="chatbot">
    <div class="chat-header">
        <h1 class="chat-title">Voluntario</h1>
        <button id="close-chatbot" class="close-chatbot-btn"><i class="bi bi-x-circle"></i></button>
    </div>
    <div class="chat-container" id="chat-window">
        <div id="chat-box" class="chat-box">
            <!-- Messages will be added here dynamically -->
        </div>
    </div>
    <form id="chat-form" aria-label="Chat with Voluntario Bot">
        <input type="text" id="question" name="question" placeholder="Ask me anything..." required aria-label="Type your message here">
        <button type="submit" aria-label="Send message"><i class="bi bi-send-fill"></i></button>
    </form>
</div>

    </main>


    <footer style="
    background: linear-gradient(rgba(43, 49, 61, 0.8), rgba(43, 49, 61, 0.8)), 
                url('../static/Images/footer.jpg') no-repeat center center / cover;
    color: #fff;
    padding: 40px 0;
    font-family: Arial, sans-serif;">
    <div
        style="max-width: 1200px; margin: auto; display: flex; flex-wrap: wrap; justify-content: space-between; align-items: start;">

        <!-- Get in Touch Section -->
        <div style="flex: 1; min-width: 250px; margin-bottom: 20px;">
            <h3>Get in Touch</h3>
            <form action="#" method="post" style="display: flex; flex-direction: column;">
                <label for="name" style="margin-bottom: 5px;">Name</label>
                <input type="text" id="name" name="name"
                    style="padding: 8px; margin-bottom: 10px; border-radius: 5px; border: none;">

                <label for="email" style="margin-bottom: 5px;">Email</label>
                <input type="email" id="email" name="email"
                    style="padding: 8px; margin-bottom: 10px; border-radius: 5px; border: none;">

                <label for="message" style="margin-bottom: 5px;">Message</label>
                <textarea id="message" name="message" rows="4"
                    style="padding: 8px; margin-bottom: 10px; border-radius: 5px; border: none;"></textarea>

                <button type="submit"
                    style="padding: 10px 20px; background-color: #f7b42c; color: #333; border: none; border-radius: 5px; cursor: pointer;">
                    Submit
                </button>
            </form>
        </div>

        <!-- Right Side: Contact Information, About Us, and Social Links -->
        <div style="flex: 1; min-width: 250px; margin-bottom: 20px; margin-left: 40px;">
            <!-- Contact Information -->
            <h3>Contact Information</h3>
            <p>Email: support@voluntario.com</p>
            <p>Phone: +123 456 7890</p>

            <!-- About Us -->
            <h3>About Us</h3>
            <p>Connecting volunteers with meaningful opportunities to make an impact. Our platform bridges passionate individuals with
            organizations in need, empowering volunteers to contribute their skills and time toward causes they care about. Join us to 
            make a difference, one action at a time, and be part of a community dedicated to positive change
            and lasting impact.</p>

            <!-- Follow Us Links -->
            <h3>Follow Us</h3>
            <div style="display: flex; gap: 10px;">
                <a href="https://facebook.com" target="_blank" style="color: #f7b42c; font-size: 24px;">
                    <i class="bi bi-facebook"></i>
                </a>
                <a href="https://twitter.com" target="_blank" style="color: #f7b42c; font-size: 24px;">
                    <i class="bi bi-twitter"></i>
                </a>
                <a href="https://instagram.com" target="_blank" style="color: #f7b42c; font-size: 24px;">
                    <i class="bi bi-instagram"></i>
                </a>
            </div>
        </div>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Function to convert **text** to <strong>text</strong>
        function formatBoldText(text) {
            return text.replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>");
        }
    
        document.getElementById("chat-form").onsubmit = async function(event) {
            event.preventDefault();
            const question = document.getElementById("question").value;
            const chatBox = document.getElementById("chat-box");
    
            // Display user question in chat
            const userMessage = document.createElement("div");
            userMessage.className = "user";
            userMessage.innerHTML = `<span>${question}</span>`;
            chatBox.appendChild(userMessage);
            document.getElementById("question").value = "";  // Clear input
    
            // Fetch response from the server
            try {
                const response = await fetch("/ask", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded",
                    },
                    body: new URLSearchParams({ question }),
                });
                if (!response.ok) throw new Error("Network response was not ok");
                const data = await response.json();
    
                // Format the response to include bold text
                const formattedResponse = formatBoldText(data.response);
    
                // Display chatbot response in chat with formatted bold text

                const botMessageWrapper = document.createElement("div");
                botMessageWrapper.className = "bot-wrapper";

                const botMessage = document.createElement("div");
                botMessage.className = "bot";
                botMessage.innerHTML = `<span>${formattedResponse}</span>`;
                
                botMessageWrapper.appendChild(botMessage);
                chatBox.appendChild(botMessageWrapper);
            }   
        
            catch (error) {
                console.error("Fetch error:", error);
                const errorMessage = document.createElement("div");
                errorMessage.className = "message bot";
                errorMessage.innerHTML = `<span>Sorry, something went wrong. Please try again later.</span>`;
                chatBox.appendChild(errorMessage);
            }
    
            chatBox.scrollTop = chatBox.scrollHeight;  // Auto-scroll to latest message
        };
    
        document.getElementById("toggle-chatbot").addEventListener("click", function() {
const chatbot = document.getElementById("chatbot");
const toggleButton = document.getElementById("toggle-chatbot");

if (chatbot.style.display === "none" || chatbot.style.display === "") {
    chatbot.style.display = "flex"; // Show the chatbot
    toggleButton.style.display = "none"; // Hide toggle button
} else {
    chatbot.style.display = "none"; // Hide the chatbot
    toggleButton.style.display = "block"; // Show toggle button
}
});

document.getElementById("close-chatbot").addEventListener("click", function() {
document.getElementById("chatbot").style.display = "none"; // Hide chatbot
document.getElementById("toggle-chatbot").style.display = "block"; // Show toggle button
});


    </script>

</body>
</html>
